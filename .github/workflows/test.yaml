on: workflow_dispatch

jobs:
  build:
    runs-on: macos-14
    steps:

      - run: uname -a
      - run: uname -p
      - run: uname -m

      - name: Download Docker
        run: |
          curl -L -o docker.tgz https://download.docker.com/mac/static/stable/aarch64/docker-20.10.8.tgz
          tar xzvf docker.tgz
          sudo cp docker/docker /usr/local/bin/
          ls -l docker

      - name: Start Docker Daemon
        run: |
          sudo ./docker/dockerd &

      - name: Verify Docker
        run: |
          ./docker/docker run hello-world

      - run: ./docker/docker version
